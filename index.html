<!--

ted.sluis@gmail.com

http://ip-address/collectd

This page displays 9 graphs.

Based on https://github.com/mutability/dump1090-tools, Copyright (c) 2015, Oliver Jowett <oliver@mutability.co.uk> and Xforce30164

//-->

<html>
	<head>
		<title> Collectd Dump1090 Graphs</title>
		<script type="text/javascript" src="jquery.js"></script>
		<script type="text/javascript">
			var base_name = "dump1090-rpi";
		
			function switchView(time_name){
				<!-- Compose picture names //-->
				$("#rate").attr("src", base_name + "-rate-" + time_name + ".png");
				$("#acs").attr("src", base_name + "-acs-" + time_name + ".png");
				$("#cpu").attr("src", base_name + "-cpu-" + time_name + ".png");
				$("#tracks").attr("src", base_name + "-tracks-" + time_name + ".png");
				$("#range").attr("src", base_name + "-range-" + time_name + ".png");
				$("#mem").attr("src", base_name + "-memory-" + time_name + ".png");
				$("#signal").attr("src", base_name + "-signal-" + time_name + ".png");
				$("#net").attr("src", base_name +"-eth0-" + time_name + ".png");
				$("#disk").attr("src", base_name +"-disk-" + time_name + ".png"); 
			}
			setInterval(function(){
			    $('img').each(function() {
			        var jqt = $(this);
			        var src = jqt.attr('src');
				if (~src.indexOf('?')) {
				    src = src.substr(0,src.indexOf('?'));
				}
			        src += '?_ts=' + new Date().getTime();
			        jqt.attr('src',src);
			    });
			},60000);
		</script>
	</head>	
	<body>
	<!-- Button bar //-->
	<p>
		<!-- Select period, button image created with https://dabuttonfactory.com/ //-->
		<small>
		<a href="#" onclick="switchView('1h')"  ><img src="image/button_hour.png"></a>
     		<a href="#" onclick="switchView('6h')"  ><img src="image/button_6-hour.png"></a>
	 	<a href="#" onclick="switchView('24h')" ><img src="image/button_day.png"></a> 
		<a href="#" onclick="switchView('2d')"  ><img src="image/button_2day.png"></a> 
		<a href="#" onclick="switchView('3d')"  ><img src="image/button_3day.png"></a> 
		<a href="#" onclick="switchView('7d')"  ><img src="image/button_week.png"></a> 
		<a href="#" onclick="switchView('14d')" ><img src="image/button_2week.png"></a> 
		<a href="#" onclick="switchView('30d')" ><img src="image/button_month.png"></a> 
		<a href="#" onclick="switchView('90d')" ><img src="image/button_quarter.png"></a> 
		<a href="#" onclick="switchView('365d')"><img src="image/button_year.png"></a> 

		<!-- Links to other dump1090 instances //-->
		<span><a href="http://ted1090-1/collectd" title="http://ted1090-1/collectd (192.168.11.44)"><img src="image/button_ted1090-1-collectd.png"></a></span>
		<span><a href="http://ted1090-1/dump1090" title="http://ted1090-1/dump1090 (192.168.11.44)"><img src="image/button_ted1090-1-dump.png"></a></span>
		<span><a href="http://ted1090-2/collectd" title="http://ted1090-2/collectd (192.168.11.34)"><img src="image/button_ted1090-2-collectd.png"></a></span>
		<span><a href="http://ted1090-2/dump1090" title="http://ted1090-2/dump1090 (192.168.11.34)"><img src="image/button_ted1090-2-dump.png"></a></span>
		<span><a href="http://ted1090-3/collectd" title="http://ted1090-3/collectd (192.168.11.43)"><img src="image/button_ted1090-3-collectd.png"></a></span>
		<span><a href="http://ted1090-3/dump1090" title="http://ted1090-3/dump1090 (192.168.11.43)"><img src="image/button_ted1090-3-dump.png"></a></span>
		<span><a href="http://ted1090-4/collectd" title="http://ted1090-4/collectd (192.168.11.8)" ><img src="image/button_ted1090-4-collectd.png"></a></span>
		<span><a href="http://ted1090-4/dump1090" title="http://ted1090-4/dump1090 (192.168.11.8)" ><img src="image/button_ted1090-4-dump.png"></a></span>
		<span><a href="http://ted1090-5/collectd" title="http://ted1090-5/collectd (192.168.11.35)"><img src="image/button_ted1090-5-collectd.png"></a></span>
		<span><a href="http://ted1090-5/dump1090" title="http://ted1090-5/dump1090 (192.168.11.35)"><img src="image/button_ted1090-5-dump.png"></a></span>
		<span><a href="http://ted1090-6/collectd" title="http://ted1090-6/collectd (192.168.11.25)"><img src="image/button_ted1090-6-collectd.png"></a></span>
		<span><a href="http://ted1090-6/dump1090" title="http://ted1090-6/dump1090 (192.168.11.25)"><img src="image/button_ted1090-6-dump.png"></a></span>
		<span><a href="http://ted1090-7/collectd" title="http://ted1090-7/collectd (192.168.11.39)"><img src="image/button_ted1090-7-collectd.png"></a></span>
		<span><a href="http://ted1090-7/dump1090" title="http://ted1090-7/dump1090 (192.168.11.39)"><img src="image/button_ted1090-7-dump.png"></a></span>
		</small>
	</p>
	<!-- Display picures, auto scaling//-->
        <div style="width: 100%; height: 32%;">
                <img id="cpu"    width="33%" height="100%" src="dump1090-rpi-cpu-24h.png">
                <img id="rate"   width="33%" height="100%" src="dump1090-rpi-rate-24h.png">
                <img id="signal" width="33%" height="100%" src="dump1090-rpi-signal-24h.png">
        </div>
        <div style="width: 100%; height: 32%;">
                <img id="mem"    width="33%" height="100%" src="dump1090-rpi-memory-24h.png">
                <img id="acs"    width="33%" height="100%" src="dump1090-rpi-acs-24h.png">
                <img id="range"  width="33%" height="100%" src="dump1090-rpi-range-24h.png">
        </div>
        <div style="width: 100%; height: 32%;">
                <img id="net"    width="33%" height="100%" src="dump1090-rpi-eth0-24h.png">
                <img id="tracks" width="33%" height="100%" src="dump1090-rpi-tracks-24h.png">
                <img id="disk"   width="33%" height="100%" src="dump1090-rpi-disk-24h.png">
        </div>
	</body>
</html>
